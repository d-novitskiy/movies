(this.webpackJsonpemoji=this.webpackJsonpemoji||[]).push([[0],{10:function(e,t,a){e.exports={container:"styles_container__1xHYN",sorting:"styles_sorting__1WeXn",sortingBy:"styles_sortingBy__Aw9rq",btn:"styles_btn__MtdPE",active:"styles_active__2lcy-",select:"styles_select__2pAeA",counter:"styles_counter__31PY_"}},11:function(e,t,a){e.exports={wrapper:"styles_wrapper__1XRyn",container:"styles_container__3BNxK",title:"styles_title__3KOYZ",search:"styles_search__1IZ6y",searchForm:"styles_searchForm__I00sF",input:"styles_input__2PiJk",enter:"styles_enter__2fkt1",span:"styles_span__1_Nj6",controlPanel:"styles_controlPanel__31L_l",btn:"styles_btn__1dySm"}},13:function(e,t,a){e.exports={container:"styles_container__2vPQH",btn:"styles_btn__2VCd_",active:"styles_active__ASVT5"}},14:function(e,t,a){e.exports={container:"styles_container__RtoUJ",poster:"styles_poster__9yJGv",description:"styles_description__2eCmR",title:"styles_title__1Wirw",year:"styles_year__gnW2L",genres:"styles_genres__1G0vZ",rating:"styles_rating__3JRal",showDescription:"styles_showDescription__3N9ma"}},21:function(e,t,a){e.exports={searchSpan:"styles_searchSpan__15mHL",btn:"styles_btn__yUfxC",active:"styles_active__2Tyec",searchBy:"styles_searchBy__1xghs"}},28:function(e,t,a){e.exports={container:"styles_container__3u3b8",title:"styles_title__Vm5fK"}},29:function(e,t,a){e.exports={container:"styles_container__2cVKH",select:"styles_select__t_3K8"}},35:function(e,t,a){e.exports={container:"styles_container__2eiIS"}},36:function(e,t,a){e.exports=a(68)},46:function(e,t,a){},47:function(e,t,a){},6:function(e,t,a){e.exports={modal:"styles_modal__i3XCK",container:"styles_container__1WE3e",title:"styles_title__2b6zA",description:"styles_description__2UnjH",modalBG:"styles_modalBG__1RpLm",genres:"styles_genres___s46L",movieDescription:"styles_movieDescription__otY8y",link:"styles_link__I9gaE",linkInner:"styles_linkInner__2GVpu",close:"styles_close__yQONr"}},68:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(22),s=a.n(r),i=a(16),o=a(20),l=a(15),u=a(33),m=a(4),p={data:[],movieDescription:[],loading:!1,error:null,total:0,offset:0,limit:9,inputValue:"",searchBy:"title",sortBy:"",sortOrder:"desc"};var _=Object(l.combineReducers)({moviesApp:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_INITIAL_STATE":return Object(m.a)(Object(m.a)({},e),{},{loading:!1,error:null,data:t.data,total:t.total});case"GET_MOVIES_REQUEST":return Object(m.a)(Object(m.a)({},e),{},{loading:t.loading,error:null,sorting:null});case"GET_MOVIES_SUCCESS":return Object(m.a)(Object(m.a)({},e),{},{loading:!1,data:t.data,total:t.total,offset:t.offset});case"GET_MOVIES_FAILURE":return Object(m.a)(Object(m.a)({},e),{},{loading:!1,error:t.data});case"GET_MOVIE_REQUEST":return Object(m.a)(Object(m.a)({},e),{},{loading:!0,error:null});case"GET_MOVIE_DESCRIPTION":return Object(m.a)(Object(m.a)({},e),{},{loading:!1,movieDescription:t.movieDescription});case"SET_SORTING":return Object(m.a)(Object(m.a)({},e),{},{sortBy:t.sortBy});case"SET_SEARCHING_VALUE":return Object(m.a)(Object(m.a)({},e),{},{inputValue:t.inputValue});case"SET_SEARCH_BY":return Object(m.a)(Object(m.a)({},e),{},{searchBy:t.searchBy});default:return e}}}),d=a(12),E=a.n(d),v=a(18);function y(){return(y=Object(v.a)(E.a.mark((function e(t,a,n,c,r,s){var i,o;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://reactjs-cdp.herokuapp.com/movies?sortBy=".concat(r,"&sortOrder=").concat(s,"&search=").concat(t,"&searchBy=").concat(a,"&offset=").concat(n,"&limit=").concat(c));case 2:return i=e.sent,e.next=5,i.json();case 5:return o=e.sent,e.abrupt("return",o);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function f(){return(f=Object(v.a)(E.a.mark((function e(t){var a,n;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://reactjs-cdp.herokuapp.com/movies/".concat(t));case 2:return a=e.sent,e.next=5,a.json();case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function h(){return(h=Object(v.a)(E.a.mark((function e(t){var a,n;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://reactjs-cdp.herokuapp.com/movies?search=''&searchBy='title'&limit=".concat(t));case 2:return a=e.sent,e.next=5,a.json();case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var b=Object(l.createStore)(_,Object(u.composeWithDevTools)(Object(l.applyMiddleware)((function(e){return function(t){return function(a){if("GET_MOVIES_REQUEST"===a.type){var n=e.getState().moviesApp.inputValue,c=e.getState().moviesApp.searchBy,r=e.getState().moviesApp.sortBy,s=e.getState().moviesApp.sortOrder;(function(e,t,a,n,c,r){return y.apply(this,arguments)})(n,c,a.offset,a.limit,r,s).then((function(t){e.dispatch({type:"GET_MOVIES_SUCCESS",data:t.data,total:t.total,offset:t.offset,limit:t.limit})})).catch((function(t){e.dispatch({type:"GET_MOVIES_FAILURE",data:t.message})}))}return t(a)}}}),(function(e){return function(t){return function(a){return"GET_MOVIE_REQUEST"===a.type&&function(e){return f.apply(this,arguments)}(a.id).then((function(t){e.dispatch({type:"GET_MOVIE_DESCRIPTION",movieDescription:t})})).catch((function(t){e.dispatch({type:"GET_MOVIES_FAILURE",data:t.message})})),t(a)}}})))),g=(a(46),a(17)),N=(a(47),a(34)),S=a.n(N),O=a(3),j=a(11),k=a.n(j);function T(e){var t=e.onClick,a=e.children,n=e.id,r=e.className;return c.a.createElement("button",{id:n,type:"button",className:r,onClick:t},a)}var w=a(21),I=a.n(w);function C(e){var t=e.searchBy,a=e.onSearchByClick;return c.a.createElement("div",{className:I.a.searchBy},c.a.createElement("span",{className:I.a.searchSpan},"Search by"),["title","genres"].map((function(e){return c.a.createElement(T,{key:e,id:e,className:"".concat(I.a.btn," ").concat(t===e?"".concat(I.a.active):""),onClick:a},e)})))}function B(e){var t=e.placeholder,a=e.onSearchClick,n=e.onSearchByClick,r=e.value,s=e.onChange,i=e.searchBy,o=e.onSubmit,l=e.siteName;return c.a.createElement("div",{className:k.a.wrapper},c.a.createElement("div",{className:k.a.container},c.a.createElement("h1",{className:k.a.title},l),c.a.createElement("div",{className:k.a.searchForm},c.a.createElement("span",{className:k.a.span},"Find your movie"),c.a.createElement("form",{onSubmit:o},c.a.createElement("div",{className:k.a.search},c.a.createElement("input",{onChange:function(e){s(e.target.value)},value:r,placeholder:t,className:k.a.input,type:"text"}),c.a.createElement("span",{className:k.a.enter})),c.a.createElement("div",{className:k.a.controlPanel},c.a.createElement(C,{onSearchByClick:function(e){n(e.target.id)},searchBy:i}),c.a.createElement("div",null,c.a.createElement(T,{className:k.a.btn,onClick:a},"search")))))))}var x=a(10),R=a.n(x);function G(e){var t=e.children,a=e.select,n=e.onSortClick,r=e.active;function s(e){n(e.target.value)}return c.a.createElement("div",{className:R.a.container},c.a.createElement("div",{className:R.a.counter},t),c.a.createElement("div",{className:R.a.select},a),c.a.createElement("div",{className:R.a.sorting},c.a.createElement("span",null,"Sort by:"),c.a.createElement("ul",{className:R.a.sortingBy},c.a.createElement("li",null,c.a.createElement("button",{className:"release_date"===r?"".concat(R.a.btn," ").concat(R.a.active):R.a.btn,value:"release_date",type:"button",onClick:s},"Realease date")),c.a.createElement("li",null,c.a.createElement("button",{className:"vote_average"===r?"".concat(R.a.btn," ").concat(R.a.active):R.a.btn,value:"vote_average",type:"button",onClick:s},"Rating")))))}var V=a(35),A=a.n(V);function D(e){var t=e.children;return c.a.createElement("div",{className:A.a.container},t)}var M=a(14),U=a.n(M);function P(e){var t=e.title,a=e.poster,n=e.onError,r=e.year,s=e.genres,o=e.id,l=e.rating;return c.a.createElement(i.b,{to:"/".concat(o)},c.a.createElement("div",{id:o,className:U.a.container,onKeyDown:function(){return o},role:"button",tabIndex:0},c.a.createElement("div",{className:U.a.poster},c.a.createElement("div",{className:U.a.rating},l),c.a.createElement("div",{className:U.a.showDescription},"Show description"),c.a.createElement("img",{alt:t,src:a,onError:n})),c.a.createElement("div",{className:U.a.description},c.a.createElement("div",{className:U.a.title},t),c.a.createElement("div",{className:U.a.year},c.a.createElement("span",null,r))),c.a.createElement("div",{className:U.a.genres},s)))}var L=a(28),Q=a.n(L);function F(e){var t=e.siteName;return c.a.createElement("div",{className:Q.a.container},c.a.createElement("span",{className:Q.a.title},t))}var W=a(13),H=a.n(W);function K(e){var t=e.id,a=e.pageNumber,n=e.onClick,r=e.isActive,s=e.disabled;return c.a.createElement("li",{key:t},c.a.createElement("button",{disabled:s,type:"button",id:a,onClick:function(){n(a)},className:"".concat(H.a.btn," ").concat(r?H.a.active:"")},a))}function Y(e){var t=e.moviesPerPage,a=e.total,r=e.paginate,s=e.changeActivePage,i=e.currentPage,o=Object(n.useState)(window.innerWidth<=680?4:10),l=Object(g.a)(o,2),u=l[0],m=l[1];Object(n.useEffect)((function(){window.addEventListener("resize",(function(){var e=window.innerWidth;m(e<=680?4:10)}))}),[window.innerWidth]);for(var p=Math.ceil(a/t),_=[],d=1;d<=p;d++)_.push(d);var E=Math.ceil(p/u),v=Object(n.useState)(1),y=Object(g.a)(v,2),f=y[0],h=y[1],b=(f-1)*u+1,N=f*u,S=function(e){window.scrollTo({top:0,behavior:"smooth"}),r(e)},O=function(e){switch(e.target.id){case"first":h(1),s(1),window.scrollTo({top:0,behavior:"smooth"});break;case"prev":h(f-1),s(b-1),window.scrollTo({top:0,behavior:"smooth"});break;case"next":h(f+1),s(b+10),window.scrollTo({top:0,behavior:"smooth"});break;case"last":h(E),s(p),window.scrollTo({top:0,behavior:"smooth"})}};return _.length<=1?null:c.a.createElement("div",{className:H.a.container},c.a.createElement("ul",null,c.a.createElement("li",null,c.a.createElement("button",{disabled:!(f>1),id:"first",type:"button",className:H.a.btn,onClick:O},"<<")),c.a.createElement("li",null,c.a.createElement("button",{disabled:!(f>1),id:"prev",type:"button",className:H.a.btn,onClick:O},"<")),_.filter((function(e){return e>=b&&e<=N})).map((function(e){return c.a.createElement(K,{pageNumber:e,onClick:S,disabled:i===e,isActive:i===e,key:e})})),c.a.createElement("li",null,c.a.createElement("button",{disabled:!(E>f),id:"next",type:"button",className:H.a.btn,onClick:O},">")),c.a.createElement("li",null,c.a.createElement("button",{disabled:!(E>f),id:"last",type:"button",className:H.a.btn,onClick:O},">>"))))}var z=a(6),J=a.n(z);function X(e){var t=e.title,a=e.genres,r=e.description,s=e.popularity,o=e.budget,l=e.img,u=e.displayDescription,m=e.style,p=Object(O.f)().id;return Object(n.useEffect)((function(){u(p)}),[p]),c.a.createElement("div",{className:J.a.modal,style:m},c.a.createElement("span",{className:J.a.close},"X"),c.a.createElement(i.b,{className:J.a.modal,style:{background:"none"},to:"/"}),c.a.createElement("div",{className:J.a.container},c.a.createElement("div",{className:J.a.modalBG,style:{backgroundImage:"url(".concat(l,")"),backgroundColor:"#ccc",backgroundSize:"cover",backgroundPosition:"center",margin:"0 auto"}},c.a.createElement("div",{style:m,className:J.a.description},c.a.createElement("h1",{className:J.a.title},t),c.a.createElement("div",{className:J.a.genres},a),c.a.createElement("div",{className:J.a.movieDescription},"Description: ".concat(r)),c.a.createElement("div",{className:J.a.movieDescription},"Rating: ".concat(s)),c.a.createElement("div",{className:J.a.movieDescription},"Budget: ".concat(o)),c.a.createElement("div",{className:J.a.link},c.a.createElement("a",{className:J.a.linkInner,target:"blank",href:"https://rezka.ag/index.php?do=search&subaction=search&q=".concat(t)},"search on rezka.ag"))))))}var Z=a(29),q=a.n(Z);function $(e){var t=e.value,a=e.onSelectChange;return c.a.createElement("div",{className:q.a.container},c.a.createElement("span",null,"show"),c.a.createElement("select",{className:q.a.select,value:t,onChange:function(e){a(e.target.value)}},c.a.createElement("option",{value:"9"},"9"),c.a.createElement("option",{value:"15"},"15"),c.a.createElement("option",{value:"30"},"30"),c.a.createElement("option",{value:"45"},"45")),c.a.createElement("span",null,"movies per page"))}var ee=function(){var e=Object(o.c)((function(e){return e.moviesApp})),t=e.data,a=e.total,r=e.loading,s=e.movieDescription,i=e.sortBy,l=e.searchBy,u=Object(o.b)(),m=Object(n.useState)(""),p=Object(g.a)(m,2),_=p[0],d=p[1],E=Object(n.useState)(1),v=Object(g.a)(E,2),y=v[0],f=v[1],b=Object(n.useState)(9),N=Object(g.a)(b,2),j=N[0],k=N[1];function T(e){e.preventDefault(),f(1),d(""),""!==_&&(u({type:"SET_SEARCHING_VALUE",inputValue:_.toLowerCase(),searchBy:l}),u({type:"GET_MOVIES_REQUEST",offset:0,limit:j,loading:!0}))}return Object(n.useEffect)((function(){(function(e){return h.apply(this,arguments)})(j).then((function(e){u({type:"GET_INITIAL_STATE",data:e.data,total:e.total})}))}),[]),c.a.createElement(O.c,null,c.a.createElement("div",{className:"wrapper"},c.a.createElement(B,{siteName:"netflixroulette",value:_,searchBy:l,onChange:d,onSearchByClick:function(e){u({type:"SET_SEARCH_BY",searchBy:e})},onSearchClick:T,placeholder:"Type to find a movie",onSubmit:T}),c.a.createElement(G,{active:i,onSortClick:function(e){u({type:"SET_SORTING",sortBy:e}),u({type:"GET_MOVIES_REQUEST",offset:(y-1)*j,limit:j})},select:c.a.createElement($,{value:j,onSelectChange:function(e){k(e),u({type:"GET_MOVIES_REQUEST",offset:(y-1)*e,limit:e})}})},"".concat(a," \n          movies found")),c.a.createElement(D,null,0===t.length?c.a.createElement("div",{className:"emptyBody"},"Find your movie"):t.map((function(e){var t=new Date(e.release_date);return c.a.createElement(P,{key:e.id,poster:e.poster_path,title:e.title,onError:function(e){return e.target.src="https://lascrucesfilmfest.com/wp-content/uploads/2018/01/no-poster-available-737x1024.jpg"},genres:e.genres.join(", "),year:t.getFullYear(),id:e.id,rating:e.vote_average})}))),c.a.createElement(Y,{moviesPerPage:j,total:a,paginate:function(e){f(e),u({type:"GET_MOVIES_REQUEST",loading:!1,offset:(e-1)*j,limit:j})},changeActivePage:function(e){f(e),u({type:"GET_MOVIES_REQUEST",offset:(e-1)*j,limit:j})},currentPage:y}),c.a.createElement(F,{siteName:"netflixroulette"}),c.a.createElement("div",{className:"loader",style:{visibility:"".concat(r?"visible":"hidden"),zIndex:"".concat(r?"1":"-1")}},c.a.createElement("div",{className:"loader_inner"},c.a.createElement(S.a,{color:"#f65064",type:"Bars",visible:r}))),c.a.createElement(O.a,{path:"/:id"},c.a.createElement(X,{style:{visibility:"".concat(r?"hidden":"visible")},title:s.title,genres:void 0===s.genres?"":s.genres.join(", "),description:s.overview,popularity:s.vote_average,budget:s.budget,img:s.poster_path,displayDescription:function(e){u({type:"GET_MOVIE_REQUEST",id:e})}}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(c.a.createElement(o.a,{store:b},c.a.createElement(i.a,null,c.a.createElement(ee,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[36,1,2]]]);
//# sourceMappingURL=main.16224bf5.chunk.js.map